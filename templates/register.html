{% extends "base.html" %}

{% block title %}Criar Conta - RitualOS{% endblock %}

{% block content %}
<div class="row g-0 min-vh-100">
    <!-- Left Side - Zen -->
    <div class="col-lg-6 d-none d-lg-flex bg-dark align-items-center justify-content-center position-relative">
        <div class="p-5 max-w-lg text-center text-white">
            <h1 class="display-4 fw-bolder mb-4 tracking-tight" style="line-height: 1.2;">
                Comece Pequeno.
            </h1>
            <p class="lead text-white-50 mb-0 font-light">
                "A jornada de mil milhas começa com um único passo." <br>— Lao Tzu
            </p>
        </div>
    </div>

    <!-- Right Side - Form -->
    <div class="col-lg-6 d-flex align-items-center justify-content-center bg-white">
        <div class="w-100 p-4 p-md-5" style="max-width: 450px;">
            <div class="mb-5 text-center">
                <a href="{{ url_for('index') }}"
                    class="text-dark small text-uppercase tracking-widest text-decoration-none mb-3 d-block">RitualOS</a>
                <h2 class="fw-bold mb-2">Criar Conta</h2>
                <p class="text-muted">Seu primeiro ritual começa agora.</p>
            </div>

            <form method="POST" action="{{ url_for('register') }}">
                Gratuita</button>
                <button type="button" class="btn btn-outline-dark w-100 py-3 fw-bold">
                    <i class="bi bi-google me-2"></i> Cadastrar com Google
                </button>
        </div>

        <p class="text-center text-muted small mb-0">
            Já tem uma conta? <a href="{{ url_for('login') }}"
                class="fw-bold text-primary text-decoration-none">Entrar</a>
        </p>
        </form>
    </div>
</div>
</div>

<script>
    function togglePassword() {
        const input = document.getElementById('password');
        const icon = event.currentTarget.querySelector('i');
        if (input.type === 'password') {
            input.type = 'text';
            icon.classList.remove('bi-eye');
            icon.classList.add('bi-eye-slash');
        } else {
            input.type = 'password';
            icon.classList.remove('bi-eye-slash');
            icon.classList.add('bi-eye');
        }
    }

    function checkStrength(password) {
        const bar = document.getElementById('password-strength');
        let strength = 0;
        if (password.length >= 8) strength += 25;
        if (password.match(/[a-z]+/)) strength += 25;
        if (password.match(/[A-Z]+/)) strength += 25;
        if (password.match(/[0-9]+/)) strength += 25;

        bar.style.width = strength + '%';
        if (strength < 50) {
            bar.className = 'progress-bar bg-danger';
        } else if (strength < 75) {
            bar.className = 'progress-bar bg-warning';
        } else {
            bar.className = 'progress-bar bg-success';
        }
    }
</script>
{% endblock %}